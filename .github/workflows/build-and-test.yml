name: Run Unit Test

####################################################################################################
##  WORKFLOW TRIGGER
####################################################################################################
on:
  # Workflow will run on pull requests to the main branch.
  pull_request:
    branches: [ main ]
  push:

####################################################################################################
##  WORKFLOW JOBS
####################################################################################################
jobs:
  # Calls the shared unit-test workflow.
  call_unit_test:
    name: Call unit-test workflow
    uses: RockLib/RockLib.Workflows/.github/workflows/unit-test.yml@main
    secrets: inherit
  call_snyk_test:
    name: Call snyk-test workflow
    uses: RockLib/RockLib.Workflows/.github/workflows/snyk-test.yml@snyk-dotnet-runtime-resolution
    secrets: inherit
    needs: call_unit_test
